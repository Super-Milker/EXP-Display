import h from"./commonShowForm-DGmxYrnU.js";import S from"./detailComponent-DaSXanYi.js";import{c as v}from"./baseComponents-BnnfAsoQ.js";import{d as b,a as l,b as g,o as i,i as u,m as C,p as x,h as k,_ as y}from"./index-CH0VdndA.js";import"./common-kvfjOh1A.js";import"./lowCodeStore-CGZPxDGf.js";/* empty css                                                                       *//* empty css                                                                            *//* empty css                                                                                  *//* empty css                                                                     *//* empty css                                                                         */import"./mockApi-Bzt-_zo-.js";/* empty css                                                                     *//* empty css                                                                   *//* empty css                                                                     *//* empty css                                                               */import"./commonIcon.vue_vue_type_script_setup_true_lang-Sx18d1PU.js";/* empty css                                                                                       *//* empty css                                                                        */const w=b({__name:"userSelect",props:{componentsData:{type:Object},detail:{type:Boolean},disabled:{type:Boolean,default:!1}},setup(t,{expose:d}){const e=t,m=l(null);l(!1);const p=l({templateValue:[]}),c=l(!1),s=l(""),f=()=>{let a={};return a={templateValue:[{validator:(o,r,n)=>{r.length==e.componentsData.maxSize?n("最多可输入【"+e.componentsData.maxSize+"】字"):n()},trigger:"blur"},{validator:(o,r,n)=>{r.length==e.componentsData.maxSize?n("最多可输入【"+e.componentsData.maxSize+"】字"):n()},trigger:"change"}]},a},D=a=>{p.value.templateValue=a,e.componentsData.isRequired===!0&&m.value.submitCheck().then(o=>{o===!0?c.value=!1:c.value=!0})};return d({check:async()=>v(m)}),g(()=>{e.detail===!0&&(e.componentsData.data instanceof Array?e.componentsData.data.forEach((a,o)=>{o+1===e.componentsData.data.length?s.value+=a.label?a.label:a.username:s.value+=a.label?a.label:a.username+","}):s.value=e.componentsData.data)}),(a,o)=>{const r=k("UserSelectFrontComponent");return i(),u(h,{ref_key:"commonShowForm",ref:m,"form-data":p.value,"form-rules":f(),"parent-data":e.componentsData,class:x(["common-userSelect",c.value==!0?"common-userSelect-error":"common-userSelect-success"]),detail:t.detail},{default:C(()=>[t.detail?(i(),u(S,{key:1,data:s.value,allData:e,noneFunc:!0},null,8,["data","allData"])):(i(),u(r,{key:0,data:t.componentsData,allowMore:t.componentsData.allowMore,changeFunc:D,disabled:t.disabled},null,8,["data","allowMore","disabled"]))]),_:1},8,["form-data","form-rules","parent-data","class","detail"])}}}),N=y(w,[["__scopeId","data-v-6b35e4aa"]]);export{N as default};
