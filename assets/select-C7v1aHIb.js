import{d as w,j as k,a as l,w as y,b as V,o as r,i as p,m as f,h as D,R as _,c as A,K as C,I as R,J as q,_ as S}from"./index-Clgzg2y2.js";import x from"./commonShowForm-H52sNYUb.js";import F from"./detailComponent-c6kTCqDF.js";import{c as B}from"./baseComponents-1atQwHIT.js";import{c as M}from"./common-zmIArfSH.js";/* empty css                                                               */import"./lowCodeStore-DSZMLO-U.js";/* empty css                                                                       *//* empty css                                                                            *//* empty css                                                                                  *//* empty css                                                                     *//* empty css                                                                         */import"./mockApi-bZpfkG11.js";/* empty css                                                                     *//* empty css                                                                   *//* empty css                                                                     *//* empty css                                                               */import"./commonIcon.vue_vue_type_script_setup_true_lang-mi9Fnp1b.js";/* empty css                                                                                       *//* empty css                                                                        */const I=w({__name:"select",props:{componentsData:{type:Object},detail:{type:!0,default:!1},disabled:{type:Boolean,default:!1}},setup(s,{expose:h}){const v=k("$defultRequest"),e=s,c=l({templateValue:e.componentsData.allowMore==!0?[]:"",inputValue:""});l(!1);const i=l(null);l(!1);const d=l(100),m=l(""),b=a=>{M(e.componentsData.quoteResourcesSelect)&&v.request({url:q.dictionaryManagementApi.getDicItemConfigListByCodes,method:"get",params:{codeList:e.componentsData.quoteResourcesSelect}}).then(o=>{o.data[e.componentsData.quoteResourcesSelect].forEach(t=>{t.label=t.name,t.value=t.code}),e.componentsData.optionArr=o.data[e.componentsData.quoteResourcesSelect]})},g=()=>{let a={};return a={templateValue:[{validator:(o,t,u)=>{c.value.templateValue.length>d.value?u("字段长度不可大于"+d.value):u()},trigger:"change"}]},a};return h({check:()=>B(i)}),l({}),y(()=>e.componentsData,async a=>{},{immediate:!1,deep:!0}),V(()=>{e.detail===!0&&(e.componentsData.data instanceof Array?e.componentsData.data.forEach((a,o)=>{e.componentsData.optionArr.forEach(t=>{a===t.value&&(o<e.componentsData.data.length-1?m.value+=t.label+",":m.value+=t.label)})}):e.componentsData.optionArr.forEach((a,o)=>{e.componentsData.data===a.value&&(m.value+=a.label)}))}),(a,o)=>{const t=D("el-option"),u=D("el-select");return r(),p(x,{ref_key:"commonShowForm",ref:i,"form-data":c.value,"parent-data":e.componentsData,"form-rules":g(),detail:s.detail},{default:f(()=>[s.detail?(r(),p(F,{key:1,data:m.value,allData:e,noneFunc:!0},null,8,["data","allData"])):(r(),p(u,{key:0,disabled:s.disabled,modelValue:c.value.templateValue,"onUpdate:modelValue":o[0]||(o[0]=n=>c.value.templateValue=n),placeholder:e.componentsData.defaultValue?e.componentsData.defaultValue:" ",onClick:_(b,["stop"]),multiple:e.componentsData.allowMore==!0,"allow-create":e.componentsData.allowInsert==!0,filterable:!0,"default-first-option":"","collapse-tags":"","collapse-tags-tooltip":"","reserve-keyword":!1},{default:f(()=>[(r(!0),A(R,null,C(e.componentsData.optionArr,n=>(r(),p(t,{key:n.value,label:n.label,value:n.value},null,8,["label","value"]))),128))]),_:1},8,["disabled","modelValue","placeholder","multiple","allow-create"]))]),_:1},8,["form-data","parent-data","form-rules","detail"])}}}),ae=S(I,[["__scopeId","data-v-d2e98bf5"]]);export{ae as default};
