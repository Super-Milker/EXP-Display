import{d as S,j as w,a as l,b as D,n as I,w as x,o as i,c as T,k as _,v as N,u as r,g as E,l as R,m as c,p as V,h as f,i as d,q as j,f as q,r as z,_ as L}from"./index-B6J1FA6L.js";import{c as p}from"./commonStore-DEO2cvzA.js";import"./mockApi-D89B71da.js";import{c as $}from"./common-cltEURJe.js";/* empty css                                                                     */const F={class:"common-buttoDiv"},H=S({__name:"commonButton",props:{type:String,icon:{type:String},useElIcon:{type:Boolean,default:!1},link:{type:String},codeType:{type:String,default:"null"},disabled:Boolean,loading:{type:Boolean}},emits:["commonClick"],setup(t,{emit:y}){w("$defultRequest");const k=y,e=t;let s=l(!1);const g=l(),u=["default","text","success","warning","info","primary","danger"],v=()=>{!u.includes(e.type)&&e.link!==""&&C()};let o=l("");const C=()=>{e.type=="normal"&&(o.value="normalButtonClass"),e.type=="confirm"&&(o.value="confirmButtonClass"),e.type=="component"&&(o.value="componentButtonClass"),e.type=="screening"&&(o.value="screeningButtonClass"),e.type=="selfInfo"&&(o.value="selfInfoButtonClass"),(e.type==null||e.type=="")&&(o.value="undefinedButtonClass")},h=()=>{k("commonClick")},m=()=>{if($(sessionStorage.getItem("sasspermissionData"))){let n=JSON.parse(sessionStorage.getItem("sasspermissionData"));for(let a=0;a<n.length;a++)if(n[a].path===p().pathData.path)if(e.codeType=="null"||n[a].permissionList.includes(e.codeType)){s.value=!0;break}else{s.value=!1;break}else s.value=!0}else(e.codeType=="login"||e.codeType=="null")&&(s.value=!0)};return D(()=>{I(()=>{v()}),m()}),x(()=>p().permissionHeart,async n=>{m()}),(n,a)=>{const B=f("el-icon"),b=f("el-button");return i(),T("div",F,[_(E(b,{type:u.includes(t.type)?t.type:"",onClick:h,class:V(["common-button",r(o)]),link:typeof t.link=="string",disabled:t.disabled,loading:t.loading,ref_key:"commonButtonRef",ref:g},R({default:c(()=>[z(n.$slots,"default",{},void 0,!0)]),_:2},[t.icon?{name:"icon",fn:c(()=>[t.useElIcon?(i(),d(B,{key:0,size:10},{default:c(()=>[(i(),d(j(t.icon)))]),_:1})):q("",!0)]),key:"0"}:void 0]),1032,["type","class","link","disabled","loading"]),[[N,r(s)]])])}}}),G=L(H,[["__scopeId","data-v-ff7cb342"]]);export{G as default};
