import{c as n}from"./common-BNMAzue3.js";import{s as r}from"./index-8ixZQw2x.js";const i=r({id:"lowCodeStore",state:()=>({rulesCheckHeart:!0,allCheckHeart:0,commonTemplateName:{templateName:"去污剂实验配方实验",templateType:"",jsonInfo:""},recipeStoreData:[{menuName:"实验配方模板",menuValue:"1"},{menuName:"送样配方模板",menuValue:"2"},{menuName:"生产配方模板",menuValue:"3"}],recipeStoreButtonListData:["新建","刷新","编辑","删除","","查看详情"],recipeStoreTableData:[{name:"FirstName",value:"FirstVallue",prop:"333",date:new Date},{name:"TestName",value:"TestVallue",prop:"222",date:new Date},{name:"TestName",value:"TestVallue",prop:"222",date:new Date},{name:"TestName",value:"TestVallue",prop:"222",date:new Date},{name:"TestName",value:"TestVallue",prop:"222",date:new Date},{name:"TestName",value:"TestVallue",prop:"222",date:new Date},{name:"TestName",value:"TestVallue",prop:"222",date:new Date},{name:"TestName",value:"TestVallue",prop:"222",date:new Date},{name:"TestName",value:"TestVallue",prop:"222",date:new Date},{name:"TestName",value:"TestVallue",prop:"222",date:new Date},{name:"TestName",value:"TestVallue",prop:"222",date:new Date}],commonTemplateComponentNormalData:["input","textArea","checkBox","checkRadio","dateTime","image","link","numberSet","select","userSelect","unitInput","fileUpload","selectList"],commonTemplateComponentcomplexAllData:{formula:{name:"配方",data:[{name:"物料工艺",value:"materialGroup1"},{name:"质量检测",value:"inspectionGroup1"},{name:"富文本",value:"recordGroup1"}]},experiment:{name:"实验",data:[{name:"物料工艺",value:"materialGroup1"},{name:"质量检测",value:"inspectionGroup1"},{name:"样品信息",value:"sampleGroup1"},{name:"富文本",value:"recordGroup1"}]}},commonTemplateSelectComponent:{},commonTemplateSelectComponentArr:[],commonTemplateSortArr:[],commonTemplateComponentsData:{input:{moduleShowType:"单行文本",moduleTitle:"单行文本",moduleType:"input",moduleCode:"",moduleDesc:"",isRequired:!0,maxSize:20,defaultValue:"",col:8,inputOnlyCheck:!0,data:""},textArea:{moduleShowType:"多行文本",moduleTitle:"多行文本",moduleType:"textArea",moduleCode:"",moduleDesc:"",isRequired:!1,maxSize:100,defaultValue:"",col:24,data:""},checkBox:{moduleShowType:"复选框",moduleTitle:"复选框",moduleType:"checkBox",moduleCode:"",moduleDesc:"",isRequired:!1,defaultValueCheck:["是"],quoteResources:[],quoteResourcesSelect:"",col:8,optionArr:[{value:"是",label:"是",showClose:!0},{value:"否",label:"否",showClose:!0}],data:["是"]},checkRadio:{moduleShowType:"单选框",moduleTitle:"单选框",moduleType:"checkRadio",moduleCode:"",moduleDesc:"",isRequired:!1,defaultValueCheck:"是",col:8,quoteResources:[],quoteResourcesSelect:"",optionArr:[{value:"是",label:"是",showClose:!0},{value:"否",label:"否",showClose:!0}],data:"是"},dateTime:{moduleShowType:"日期",moduleTitle:"日期",moduleType:"dateTime",moduleCode:"",moduleDesc:"",isRequired:!1,defaultValue:"",defaultValueCheck:"dateTime",col:8,optionArr:[{value:"date",label:"仅日期"},{value:"dateTime",label:"日期和时间"}],data:""},image:{moduleShowType:"图片",moduleTitle:"图片",moduleType:"image",moduleCode:"",moduleDesc:"",isRequired:!1,defaultValue:"",col:24,data:[]},fileUpload:{moduleShowType:"附件上传",moduleTitle:"附件上传",moduleType:"fileUpload",moduleCode:"",moduleDesc:"",isRequired:!1,defaultValue:"",multiple:!0,col:24,data:[]},link:{moduleShowType:"超链接",moduleTitle:"超链接",moduleType:"link",moduleCode:"",moduleDesc:"",isRequired:!1,defaultValue:"",link:"",linkName:"",col:8,data:""},numberSet:{moduleShowType:"数字输入",moduleTitle:"数字输入",moduleType:"numberSet",moduleCode:"",moduleDesc:"",isRequired:!1,maxSize:20,defaultValue:"",allowNegative:!1,pointLength:0,col:8,data:""},select:{moduleShowType:"下拉选框",moduleTitle:"下拉选框",moduleType:"select",moduleCode:"",moduleDesc:"",isRequired:!1,defaultValue:"",allowMore:!0,allowInsert:!1,allowType:["允许多选"],col:8,quoteResources:[],quoteResourcesSelect:"",optionArr:[{value:"是",label:"是",showClose:!0},{value:"否",label:"否",showClose:!0}],data:[]},userSelect:{moduleShowType:"人员选择",moduleTitle:"人员选择",moduleType:"userSelect",moduleDesc:"",isRequired:!1,allowMore:!1,col:8,data:[],moduleCode:""},unitInput:{moduleShowType:"组合文本",moduleTitle:"组合文本",moduleType:"unitInput",moduleCode:"",moduleDesc:"",isRequired:!1,maxSize:20,defaultValue:"",col:8,data:"",quoteResources:[],quoteResourcesSelect:"",allowType:"text",allowNegative:!1,pointLength:0,defaultValueCheck:"",optionArr:[]},selectList:{moduleShowType:"选择框",moduleTitle:"选择框",moduleType:"selectList",moduleDesc:"",isRequired:!1,allowType:["允许多选"],col:8,data:"",moduleCode:"",defaultValue:"",dictReference:{},quoteResources:[],quoteResourcesSelect:"",displayColumnList:[],displayColumnListTemp:[],optionArr:[],dictReferenceJsonList:[]},defaultName:{moduleShowType:"名称",moduleTitle:"名称",moduleType:"defaultName",moduleCode:"code",moduleDesc:"",isRequired:!0,maxSize:100,defaultValue:"",col:8,data:"",sortIndex:0,codeDisable:!0,requiredDisable:!0,isDelete:!1},defaultCode:{moduleShowType:"编码",moduleTitle:"编码",moduleType:"defaultCode",moduleCode:"code",moduleDesc:"",isRequired:!0,maxSize:100,defaultValue:"",col:8,data:"",sortIndex:0,codeDisable:!0,requiredDisable:!0,isDelete:!1,disabled:!0},materialGroup1:{moduleShowType:"物料工艺",moduleTitle:"物料工艺",moduleType:"materialGroup1",moduleCode:"",moduleDesc:"",isRequired:!1,maxSize:100,defaultValue:"",formulaData:{},headerList:[{name:"物料名",propName:"name",sortIndex:0,isMust:"-",isShow:!0,editFlag:!1,deleteFlag:!1,isShowFlag:!1,inSetType:"str",rowColor:!1},{name:"代号",propName:"symbol",sortIndex:5,isMust:"-",isShow:!0,editFlag:!1,deleteFlag:!1,isShowFlag:!1,inSetType:"str",rowColor:!1},{name:"用量",propName:"dosage",sortIndex:10,isMust:"是",isShow:!0,editFlag:!0,deleteFlag:!1,isShowFlag:!0,inSetType:"num",pointLength:2,allowNegative:!1,strLength:20,rowColor:!1},{name:"占比",propName:"proportion",sortIndex:15,isMust:"是",isShow:!0,editFlag:!0,deleteFlag:!1,isShowFlag:!0,inSetType:"num",pointLength:2,allowNegative:!1,strLength:20,rowColor:!1},{name:"备注",propName:"remark",sortIndex:20,isMust:"否",isShow:!0,editFlag:!1,deleteFlag:!1,isShowFlag:!1,inSetType:"str",rowColor:!1}],proportionObject:{sortArr:[],data:{data1:"",data2:2,data3:"",data4:"",data5:[],data6:""},colorRowData:[]},col:24,data:[{material:{name:"物料表-1",tableData:[],totalQuantity:0,totalAmount:0},technology:{name:"工艺表-1",tableData:[]}}]},inspectionGroup1:{moduleShowType:"质量标准",moduleTitle:"质量标准",moduleType:"inspectionGroup1",moduleCode:"",moduleDesc:"",isRequired:!1,maxSize:100,defaultValue:"",col:24,data:[]},recordGroup1:{moduleShowType:"富文本",moduleTitle:"富文本",moduleType:"recordGroup1",moduleCode:"",moduleDesc:"",isRequired:!1,maxSize:100,defaultValue:"",col:24,defaultValueCheck:"",data:""},sampleGroup1:{moduleShowType:"样品信息",moduleTitle:"样品信息",moduleType:"sampleGroup1",moduleCode:"",moduleDesc:"",isRequired:!1,maxSize:100,defaultValue:"",col:24,data:[]}},templateConfig:{title:"",leftTabs:["基础控件"],rightTabs:["控件设置","模板设置"],typeSelectShow:!0,saveShow:!0,seeShow:!0,templateType:"data_template",templateId:""},materialGroup1DefaultData:{material:{name:"物料表-1",tableData:[],totalQuantity:0,totalAmount:0},technology:{name:"工艺表-1",tableData:[]}}}),actions:{setCommonTemplateName(e){this.commonTemplateName.templateName=e},setCommonTemplateSelectArrData(e){this.commonTemplateComponentsData[e].sortIndex=this.commonTemplateSelectComponentArr.length,this.commonTemplateSelectComponentArr.push(JSON.parse(JSON.stringify(this.commonTemplateComponentsData[e]))),this.commonTemplateSelectComponent=this.commonTemplateSelectComponentArr[this.commonTemplateSelectComponentArr.length-1]},spliceCommonTemplateSelectArrData(e,t){if(t==="last")this.commonTemplateSelectComponentArr.splice(this.commonTemplateSelectComponentArr.length,0,JSON.parse(JSON.stringify(e))),this.commonTemplateSelectComponentArr.forEach((o,a)=>{o.sortIndex=a});else{e.sortIndex=t;let o=[];o=JSON.parse(JSON.stringify(this.commonTemplateSelectComponentArr)),o.splice(t,0,e),this.commonTemplateSelectComponentArr=o}this.commonTemplateSelectComponent=this.commonTemplateSelectComponentArr[t]},async deleteCommonTemplateSelectArrData(e){const t=[];for(let o=0;o<this.commonTemplateSelectComponentArr.length;o++)this.commonTemplateSelectComponentArr[o].id!==e.id&&t.push(this.commonTemplateSelectComponentArr[o]);this.commonTemplateSelectComponentArr=t,e.sortIndex-1>0?this.commonTemplateSelectComponent=JSON.parse(JSON.stringify(this.commonTemplateSelectComponentArr[e.sortIndex-1])):e.sortIndex-1==0&&(this.commonTemplateSelectComponent=JSON.parse(JSON.stringify(this.commonTemplateSelectComponentArr[0])))},updateCommonTemplateSelectArrData(e){for(let t=0;t<this.commonTemplateSelectComponentArr.length;t++)this.commonTemplateSelectComponentArr[t].hasOwnProperty("id")?e.id==this.commonTemplateSelectComponentArr[t].id&&(this.commonTemplateSelectComponentArr[t]=JSON.parse(JSON.stringify(e)),this.commonTemplateSelectComponent=JSON.parse(JSON.stringify(this.commonTemplateSelectComponentArr[t]))):e.sortIndex==this.commonTemplateSelectComponentArr[t].sortIndex&&(this.commonTemplateSelectComponentArr[t]=JSON.parse(JSON.stringify(e)),this.commonTemplateSelectComponent=JSON.parse(JSON.stringify(this.commonTemplateSelectComponentArr[e.sortIndex])))},async changeIndexCommonTemplateSelectArrData(e,t,o){const a=[];this.commonTemplateSortArr=[],document.getElementsByName("component").forEach(l=>{this.commonTemplateSortArr.push(l.id)});for(let l=0;l<this.commonTemplateSortArr.length;l++)for(let m=0;m<this.commonTemplateSelectComponentArr.length;m++)this.commonTemplateSortArr[l]==this.commonTemplateSelectComponentArr[m].id&&a.push(JSON.parse(JSON.stringify(this.commonTemplateSelectComponentArr[m])));for(let l=0;l<a.length;l++)a[l].sortIndex=l;return a},async sortCommonTemplateSelectArrData(){let e={};return await this.changeIndexCommonTemplateSelectArrData(document.getElementsByName("component")).then(t=>{this.commonTemplateSortArr.length==0&&this.commonTemplateSelectComponentArr.length!==0||(e=t)}),e},selectCommonTemplateSelectArrData(e){this.commonTemplateSelectComponentArr.forEach(t=>{e.id==t.id&&(this.commonTemplateSelectComponent=JSON.parse(JSON.stringify(t)))})},initCommonTemplateSelectArrData(e){e.length>0?(this.commonTemplateSelectComponentArr=JSON.parse(JSON.stringify(e)),this.commonTemplateSelectComponent=JSON.parse(JSON.stringify(this.commonTemplateSelectComponentArr[0]))):this.commonTemplateSelectComponentArr=[]},setSelectArrData(e){e.length>0?this.commonTemplateSelectComponentArr=JSON.parse(JSON.stringify(e)):this.commonTemplateSelectComponentArr=[]},initTemplateConfig(e){n(sessionStorage.getItem("sasslowCodeData"))?this.templateConfig={...JSON.parse(sessionStorage.getItem("sasslowCodeData")),...e}:this.templateConfig={...this.templateConfig,...e},sessionStorage.setItem("sasslowCodeData",JSON.stringify(this.templateConfig))},clearOnSelectData(){this.commonTemplateSelectComponent=""},delwithRulesHeart(e){this.rulesCheckHeart=e},heartAllCheck(){this.allCheckHeart++}}});export{i as l};
