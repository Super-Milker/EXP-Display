import{d as pn,z as mn,j as hn,L as Pt,a as X,w as kt,b as gn,o as J,c as ge,g as K,m as z,u as G,I as Xe,J as Ke,h as Mt,e as ne,k as Rt,v as Ft,E as Bt,i as Ae,N as vn,K as Ze,T as Lt,q as Qe,f as ht,P as bn,t as _n,S as Ne,F as yn,G as wn,_ as Sn}from"./index-D3mNXBAq.js";import Dn from"./commonTemplatePanel-9R-_L3Pv.js";/* empty css                                                                                  *//* empty css                                                                     *//* empty css                                                                         */import Xt from"./commonButton-wKsdVqGK.js";import Yt from"./commonTabs-DFYTYL0V.js";import En from"./commonDialog-C462v1Zf.js";/* empty css                                                               */import{l as Cn}from"./lowCodeStore-CFwdIvpr.js";import"./mockApi-BxpcRIkt.js";/* empty css                                                                                       */import{_ as Tn}from"./input.vue_vue_type_script_setup_true_lang-Ca1KumnL.js";import{_ as In}from"./textArea.vue_vue_type_script_setup_true_lang-uBoUB9Jm.js";import{_ as On}from"./checkBox.vue_vue_type_script_setup_true_lang-BFYHwGEw.js";import{_ as An}from"./checkRadio.vue_vue_type_script_setup_true_lang-B86_4ZyJ.js";import{_ as Nn}from"./dateTime.vue_vue_type_script_setup_true_lang-CWsjRF4R.js";import{_ as xn}from"./image.vue_vue_type_script_setup_true_lang--hG9khm3.js";import{_ as Pn}from"./link.vue_vue_type_script_setup_true_lang-BtyqwJ6i.js";import{_ as kn}from"./numberSet.vue_vue_type_script_setup_true_lang-Cbxp5XSh.js";import{_ as Mn}from"./select.vue_vue_type_script_setup_true_lang-BxrlWZ_X.js";import{_ as Rn}from"./unitInput.vue_vue_type_script_setup_true_lang-DQFqezDX.js";import{_ as Fn}from"./fileUpload.vue_vue_type_script_setup_true_lang-Cy7Lt3r6.js";import{_ as Bn}from"./input.vue_vue_type_script_setup_true_lang-t0boio7k.js";import{_ as Ln}from"./textArea.vue_vue_type_script_setup_true_lang-DEuAWZoV.js";import{_ as Xn}from"./checkBox.vue_vue_type_script_setup_true_lang-XkTw56Hr.js";import Yn from"./checkRadio-BR961942.js";import{_ as $n}from"./dateTime.vue_vue_type_script_setup_true_lang-C1H0oQs5.js";import{_ as Jn}from"./image.vue_vue_type_script_setup_true_lang-iZ9nC24I.js";import{_ as Gn}from"./link.vue_vue_type_script_setup_true_lang-r0ZZt8qS.js";import{_ as Hn}from"./numberSet.vue_vue_type_script_setup_true_lang-DqE-RbKb.js";import jn from"./select-D0uPjMHh.js";import{_ as Wn}from"./unitInput.vue_vue_type_script_setup_true_lang-s2A4x_he.js";import{_ as zn}from"./fileUpload.vue_vue_type_script_setup_true_lang-KwoIqUre.js";import{_ as qn}from"./defaultName.vue_vue_type_script_setup_true_lang-J7lmZlzz.js";import{_ as Vn}from"./defaultCode.vue_vue_type_script_setup_true_lang-BuWbh5PN.js";import{n as Un}from"./normalComponentShowTypes-DiY9pjuv.js";import{c as xe,a as $t}from"./common-C_UKw9Wt.js";/* empty css                                                          *//* empty css                                                                   */import Kn from"./showClickPanel-UQuXIEem.js";/* empty css                                                                      *//* empty css                                                                       *//* empty css                                                                    */import Zn from"./templateDetail-BALJ36wc.js";/* empty css                                                                     */import{I as Jt}from"./baseComponents-BNdOSlC6.js";/* empty css                                                                            */import"./commonStore-DUa2pOiQ.js";/* empty css                                                                     *//* empty css                                                                   *//* empty css                                                                     */import"./templateDesignComponentsButton-CVCYj6ot.js";import"./commonSetForm-CC1092DP.js";/* empty css                                                                       *//* empty css                                                                        *//* empty css                                                              *//* empty css                                                                 *//* empty css                                                                 *//* empty css                                                                   *//* empty css                                                                 *//* empty css                                                                             *//* empty css                                                              *//* empty css                                                             *//* empty css                                                               *//* empty css                                                                  *//* empty css                                                                    *//* empty css                                                                    */import"./normalComponentSetTypes-BRU8xmWE.js";import"./maxSize.vue_vue_type_script_setup_true_lang-DlN55VTG.js";import"./defaultValue.vue_vue_type_script_setup_true_lang-CX7cCR-Z.js";import"./numberSetConfig.vue_vue_type_script_setup_true_lang-Du_BbOhZ.js";import"./selectCombination-BrqiGtyq.js";import"./selectCombinationElseValue-Bs2g0h7K.js";/* empty css                                                                       */import"./input-BmE64zIW.js";import"./commonShowForm-FAe-fFSJ.js";import"./detailComponent-CXGxES66.js";import"./commonIcon.vue_vue_type_script_setup_true_lang-osR_PwyP.js";import"./textArea-BnGMnK1K.js";import"./checkBox-CYV2qfAT.js";import"./checkRadio-CaYpvprh.js";import"./dateTime-CZ7DmtRr.js";import"./image-B2m4yQog.js";import"./upload-Dof13zbZ.js";import"./imageDetailComponent-CfS2T_3b.js";import"./link-Bmf8K6ys.js";import"./numberSet.vue_vue_type_script_setup_true_lang-BPrxx5VN.js";import"./select-BRUwS-J0.js";import"./unitInput-D169NSNW.js";import"./fileUpload-DAtg9Rlf.js";import"./lowCodeTable-V8VFt-w9.js";import"./defaultName-CbUPo08l.js";import"./defaultCode-BZKCI6Eh.js";import"./commonTemplateDetailPanel-XRpGZGau.js";const Qn=Object.freeze(Object.defineProperty({__proto__:null,checkBox:On,checkRadio:An,dateTime:Nn,fileUpload:Fn,image:xn,input:Tn,link:Pn,numberSet:kn,select:Mn,textArea:In,unitInput:Rn},Symbol.toStringTag,{value:"Module"})),eo=Object.freeze(Object.defineProperty({__proto__:null,checkBox:Xn,checkRadio:Yn,dateTime:$n,defaultCode:Vn,defaultName:qn,fileUpload:zn,image:Jn,input:Bn,link:Gn,numberSet:Hn,select:jn,textArea:Ln,unitInput:Wn},Symbol.toStringTag,{value:"Module"}));/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Gt(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable})),t.push.apply(t,n)}return t}function se(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Gt(Object(t),!0).forEach(function(n){to(o,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):Gt(Object(t)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(t,n))})}return o}function at(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?at=function(e){return typeof e}:at=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(o)}function to(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function pe(){return pe=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n])}return o},pe.apply(this,arguments)}function no(o,e){if(o==null)return{};var t={},n=Object.keys(o),a,r;for(r=0;r<n.length;r++)a=n[r],!(e.indexOf(a)>=0)&&(t[a]=o[a]);return t}function oo(o,e){if(o==null)return{};var t=no(o,e),n,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(o,n)&&(t[n]=o[n])}return t}var ao="1.15.2";function fe(o){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(o)}var me=fe(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),qe=fe(/Edge/i),Ht=fe(/firefox/i),Ge=fe(/safari/i)&&!fe(/chrome/i)&&!fe(/android/i),Zt=fe(/iP(ad|od|hone)/i),Qt=fe(/chrome/i)&&fe(/android/i),en={capture:!1,passive:!1};function S(o,e,t){o.addEventListener(e,t,!me&&en)}function b(o,e,t){o.removeEventListener(e,t,!me&&en)}function ut(o,e){if(e){if(e[0]===">"&&(e=e.substring(1)),o)try{if(o.matches)return o.matches(e);if(o.msMatchesSelector)return o.msMatchesSelector(e);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(e)}catch{return!1}return!1}}function ro(o){return o.host&&o!==document&&o.host.nodeType?o.host:o.parentNode}function oe(o,e,t,n){if(o){t=t||document;do{if(e!=null&&(e[0]===">"?o.parentNode===t&&ut(o,e):ut(o,e))||n&&o===t)return o;if(o===t)break}while(o=ro(o))}return null}var jt=/\s+/g;function q(o,e,t){if(o&&e)if(o.classList)o.classList[t?"add":"remove"](e);else{var n=(" "+o.className+" ").replace(jt," ").replace(" "+e+" "," ");o.className=(n+(t?" "+e:"")).replace(jt," ")}}function m(o,e,t){var n=o&&o.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(o,""):o.currentStyle&&(t=o.currentStyle),e===void 0?t:t[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=t+(typeof t=="string"?"":"px")}}function Fe(o,e){var t="";if(typeof o=="string")t=o;else do{var n=m(o,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!e&&(o=o.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(t)}function tn(o,e,t){if(o){var n=o.getElementsByTagName(e),a=0,r=n.length;if(t)for(;a<r;a++)t(n[a],a);return n}return[]}function le(){var o=document.scrollingElement;return o||document.documentElement}function P(o,e,t,n,a){if(!(!o.getBoundingClientRect&&o!==window)){var r,i,l,s,u,f,d;if(o!==window&&o.parentNode&&o!==le()?(r=o.getBoundingClientRect(),i=r.top,l=r.left,s=r.bottom,u=r.right,f=r.height,d=r.width):(i=0,l=0,s=window.innerHeight,u=window.innerWidth,f=window.innerHeight,d=window.innerWidth),(e||t)&&o!==window&&(a=a||o.parentNode,!me))do if(a&&a.getBoundingClientRect&&(m(a,"transform")!=="none"||t&&m(a,"position")!=="static")){var g=a.getBoundingClientRect();i-=g.top+parseInt(m(a,"border-top-width")),l-=g.left+parseInt(m(a,"border-left-width")),s=i+r.height,u=l+r.width;break}while(a=a.parentNode);if(n&&o!==window){var y=Fe(a||o),v=y&&y.a,w=y&&y.d;y&&(i/=w,l/=v,d/=v,f/=w,s=i+f,u=l+d)}return{top:i,left:l,bottom:s,right:u,width:d,height:f}}}function Wt(o,e,t){for(var n=_e(o,!0),a=P(o)[e];n;){var r=P(n)[t],i=void 0;if(i=a>=r,!i)return n;if(n===le())break;n=_e(n,!1)}return!1}function Be(o,e,t,n){for(var a=0,r=0,i=o.children;r<i.length;){if(i[r].style.display!=="none"&&i[r]!==p.ghost&&(n||i[r]!==p.dragged)&&oe(i[r],t.draggable,o,!1)){if(a===e)return i[r];a++}r++}return null}function At(o,e){for(var t=o.lastElementChild;t&&(t===p.ghost||m(t,"display")==="none"||e&&!ut(t,e));)t=t.previousElementSibling;return t||null}function Z(o,e){var t=0;if(!o||!o.parentNode)return-1;for(;o=o.previousElementSibling;)o.nodeName.toUpperCase()!=="TEMPLATE"&&o!==p.clone&&(!e||ut(o,e))&&t++;return t}function zt(o){var e=0,t=0,n=le();if(o)do{var a=Fe(o),r=a.a,i=a.d;e+=o.scrollLeft*r,t+=o.scrollTop*i}while(o!==n&&(o=o.parentNode));return[e,t]}function io(o,e){for(var t in o)if(o.hasOwnProperty(t)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===o[t][n])return Number(t)}return-1}function _e(o,e){if(!o||!o.getBoundingClientRect)return le();var t=o,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var a=m(t);if(t.clientWidth<t.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return le();if(n||e)return t;n=!0}}while(t=t.parentNode);return le()}function lo(o,e){if(o&&e)for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return o}function gt(o,e){return Math.round(o.top)===Math.round(e.top)&&Math.round(o.left)===Math.round(e.left)&&Math.round(o.height)===Math.round(e.height)&&Math.round(o.width)===Math.round(e.width)}var He;function nn(o,e){return function(){if(!He){var t=arguments,n=this;t.length===1?o.call(n,t[0]):o.apply(n,t),He=setTimeout(function(){He=void 0},e)}}}function so(){clearTimeout(He),He=void 0}function on(o,e,t){o.scrollLeft+=e,o.scrollTop+=t}function an(o){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(o).cloneNode(!0):t?t(o).clone(!0)[0]:o.cloneNode(!0)}function rn(o,e,t){var n={};return Array.from(o.children).forEach(function(a){var r,i,l,s;if(!(!oe(a,e.draggable,o,!1)||a.animated||a===t)){var u=P(a);n.left=Math.min((r=n.left)!==null&&r!==void 0?r:1/0,u.left),n.top=Math.min((i=n.top)!==null&&i!==void 0?i:1/0,u.top),n.right=Math.max((l=n.right)!==null&&l!==void 0?l:-1/0,u.right),n.bottom=Math.max((s=n.bottom)!==null&&s!==void 0?s:-1/0,u.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var U="Sortable"+new Date().getTime();function uo(){var o=[],e;return{captureAnimationState:function(){if(o=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(a){if(!(m(a,"display")==="none"||a===p.ghost)){o.push({target:a,rect:P(a)});var r=se({},o[o.length-1].rect);if(a.thisAnimationDuration){var i=Fe(a,!0);i&&(r.top-=i.f,r.left-=i.e)}a.fromRect=r}})}},addAnimationState:function(n){o.push(n)},removeAnimationState:function(n){o.splice(io(o,{target:n}),1)},animateAll:function(n){var a=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var r=!1,i=0;o.forEach(function(l){var s=0,u=l.target,f=u.fromRect,d=P(u),g=u.prevFromRect,y=u.prevToRect,v=l.rect,w=Fe(u,!0);w&&(d.top-=w.f,d.left-=w.e),u.toRect=d,u.thisAnimationDuration&&gt(g,d)&&!gt(f,d)&&(v.top-d.top)/(v.left-d.left)===(f.top-d.top)/(f.left-d.left)&&(s=fo(v,g,y,a.options)),gt(d,f)||(u.prevFromRect=f,u.prevToRect=d,s||(s=a.options.animation),a.animate(u,v,d,s)),s&&(r=!0,i=Math.max(i,s),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},s),u.thisAnimationDuration=s)}),clearTimeout(e),r?e=setTimeout(function(){typeof n=="function"&&n()},i):typeof n=="function"&&n(),o=[]},animate:function(n,a,r,i){if(i){m(n,"transition",""),m(n,"transform","");var l=Fe(this.el),s=l&&l.a,u=l&&l.d,f=(a.left-r.left)/(s||1),d=(a.top-r.top)/(u||1);n.animatingX=!!f,n.animatingY=!!d,m(n,"transform","translate3d("+f+"px,"+d+"px,0)"),this.forRepaintDummy=co(n),m(n,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),m(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){m(n,"transition",""),m(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},i)}}}}function co(o){return o.offsetWidth}function fo(o,e,t,n){return Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*n.animation}var Pe=[],vt={initializeByDefault:!0},Ve={mount:function(e){for(var t in vt)vt.hasOwnProperty(t)&&!(t in e)&&(e[t]=vt[t]);Pe.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Pe.push(e)},pluginEvent:function(e,t,n){var a=this;this.eventCanceled=!1,n.cancel=function(){a.eventCanceled=!0};var r=e+"Global";Pe.forEach(function(i){t[i.pluginName]&&(t[i.pluginName][r]&&t[i.pluginName][r](se({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](se({sortable:t},n)))})},initializePlugins:function(e,t,n,a){Pe.forEach(function(l){var s=l.pluginName;if(!(!e.options[s]&&!l.initializeByDefault)){var u=new l(e,t,e.options);u.sortable=e,u.options=e.options,e[s]=u,pe(n,u.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var i=this.modifyOption(e,r,e.options[r]);typeof i<"u"&&(e.options[r]=i)}},getEventProperties:function(e,t){var n={};return Pe.forEach(function(a){typeof a.eventProperties=="function"&&pe(n,a.eventProperties.call(t[a.pluginName],e))}),n},modifyOption:function(e,t,n){var a;return Pe.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[t]=="function"&&(a=r.optionListeners[t].call(e[r.pluginName],n))}),a}};function po(o){var e=o.sortable,t=o.rootEl,n=o.name,a=o.targetEl,r=o.cloneEl,i=o.toEl,l=o.fromEl,s=o.oldIndex,u=o.newIndex,f=o.oldDraggableIndex,d=o.newDraggableIndex,g=o.originalEvent,y=o.putSortable,v=o.extraEventProperties;if(e=e||t&&t[U],!!e){var w,j=e.options,$="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!me&&!qe?w=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(w=document.createEvent("Event"),w.initEvent(n,!0,!0)),w.to=i||t,w.from=l||t,w.item=a||t,w.clone=r,w.oldIndex=s,w.newIndex=u,w.oldDraggableIndex=f,w.newDraggableIndex=d,w.originalEvent=g,w.pullMode=y?y.lastPutMode:void 0;var E=se(se({},v),Ve.getEventProperties(n,e));for(var k in E)w[k]=E[k];t&&t.dispatchEvent(w),j[$]&&j[$].call(e,w)}}var mo=["evt"],H=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n.evt,r=oo(n,mo);Ve.pluginEvent.bind(p)(e,t,se({dragEl:c,parentEl:A,ghostEl:h,rootEl:C,nextEl:Te,lastDownEl:rt,cloneEl:T,cloneHidden:be,dragStarted:Ye,putSortable:F,activeSortable:p.active,originalEvent:a,oldIndex:Re,oldDraggableIndex:je,newIndex:V,newDraggableIndex:ve,hideGhostForTarget:cn,unhideGhostForTarget:dn,cloneNowHidden:function(){be=!0},cloneNowShown:function(){be=!1},dispatchSortableEvent:function(l){Y({sortable:t,name:l,originalEvent:a})}},r))};function Y(o){po(se({putSortable:F,cloneEl:T,targetEl:c,rootEl:C,oldIndex:Re,oldDraggableIndex:je,newIndex:V,newDraggableIndex:ve},o))}var c,A,h,C,Te,rt,T,be,Re,V,je,ve,et,F,Me=!1,ct=!1,dt=[],Ee,te,bt,_t,qt,Vt,Ye,ke,We,ze=!1,tt=!1,it,B,yt=[],Ct=!1,ft=[],mt=typeof document<"u",nt=Zt,Ut=qe||me?"cssFloat":"float",ho=mt&&!Qt&&!Zt&&"draggable"in document.createElement("div"),ln=function(){if(mt){if(me)return!1;var o=document.createElement("x");return o.style.cssText="pointer-events:auto",o.style.pointerEvents==="auto"}}(),sn=function(e,t){var n=m(e),a=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=Be(e,0,t),i=Be(e,1,t),l=r&&m(r),s=i&&m(i),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+P(r).width,f=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+P(i).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&l.float&&l.float!=="none"){var d=l.float==="left"?"left":"right";return i&&(s.clear==="both"||s.clear===d)?"vertical":"horizontal"}return r&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=a&&n[Ut]==="none"||i&&n[Ut]==="none"&&u+f>a)?"vertical":"horizontal"},go=function(e,t,n){var a=n?e.left:e.top,r=n?e.right:e.bottom,i=n?e.width:e.height,l=n?t.left:t.top,s=n?t.right:t.bottom,u=n?t.width:t.height;return a===l||r===s||a+i/2===l+u/2},vo=function(e,t){var n;return dt.some(function(a){var r=a[U].options.emptyInsertThreshold;if(!(!r||At(a))){var i=P(a),l=e>=i.left-r&&e<=i.right+r,s=t>=i.top-r&&t<=i.bottom+r;if(l&&s)return n=a}}),n},un=function(e){function t(r,i){return function(l,s,u,f){var d=l.options.group.name&&s.options.group.name&&l.options.group.name===s.options.group.name;if(r==null&&(i||d))return!0;if(r==null||r===!1)return!1;if(i&&r==="clone")return r;if(typeof r=="function")return t(r(l,s,u,f),i)(l,s,u,f);var g=(i?l:s).options.group.name;return r===!0||typeof r=="string"&&r===g||r.join&&r.indexOf(g)>-1}}var n={},a=e.group;(!a||at(a)!="object")&&(a={name:a}),n.name=a.name,n.checkPull=t(a.pull,!0),n.checkPut=t(a.put),n.revertClone=a.revertClone,e.group=n},cn=function(){!ln&&h&&m(h,"display","none")},dn=function(){!ln&&h&&m(h,"display","")};mt&&!Qt&&document.addEventListener("click",function(o){if(ct)return o.preventDefault(),o.stopPropagation&&o.stopPropagation(),o.stopImmediatePropagation&&o.stopImmediatePropagation(),ct=!1,!1},!0);var Ce=function(e){if(c){e=e.touches?e.touches[0]:e;var t=vo(e.clientX,e.clientY);if(t){var n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[U]._onDragOver(n)}}},bo=function(e){c&&c.parentNode[U]._isOutsideThisEl(e.target)};function p(o,e){if(!(o&&o.nodeType&&o.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(o));this.el=o,this.options=e=pe({},e),o[U]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(o.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return sn(o,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,l){i.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:p.supportPointer!==!1&&"PointerEvent"in window&&!Ge,emptyInsertThreshold:5};Ve.initializePlugins(this,o,t);for(var n in t)!(n in e)&&(e[n]=t[n]);un(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:ho,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?S(o,"pointerdown",this._onTapStart):(S(o,"mousedown",this._onTapStart),S(o,"touchstart",this._onTapStart)),this.nativeDraggable&&(S(o,"dragover",this),S(o,"dragenter",this)),dt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),pe(this,uo())}p.prototype={constructor:p,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ke=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,c):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,a=this.options,r=a.preventOnFilter,i=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,s=(l||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,f=a.filter;if(To(n),!c&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||a.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Ge&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=oe(s,a.draggable,n,!1),!(s&&s.animated)&&rt!==s)){if(Re=Z(s),je=Z(s,a.draggable),typeof f=="function"){if(f.call(this,e,s,this)){Y({sortable:t,rootEl:u,name:"filter",targetEl:s,toEl:n,fromEl:n}),H("filter",t,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(d){if(d=oe(u,d.trim(),n,!1),d)return Y({sortable:t,rootEl:d,name:"filter",targetEl:s,fromEl:n,toEl:n}),H("filter",t,{evt:e}),!0}),f)){r&&e.cancelable&&e.preventDefault();return}a.handle&&!oe(u,a.handle,n,!1)||this._prepareDragStart(e,l,s)}}},_prepareDragStart:function(e,t,n){var a=this,r=a.el,i=a.options,l=r.ownerDocument,s;if(n&&!c&&n.parentNode===r){var u=P(n);if(C=r,c=n,A=c.parentNode,Te=c.nextSibling,rt=n,et=i.group,p.dragged=c,Ee={target:c,clientX:(t||e).clientX,clientY:(t||e).clientY},qt=Ee.clientX-u.left,Vt=Ee.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,c.style["will-change"]="all",s=function(){if(H("delayEnded",a,{evt:e}),p.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Ht&&a.nativeDraggable&&(c.draggable=!0),a._triggerDragStart(e,t),Y({sortable:a,name:"choose",originalEvent:e}),q(c,i.chosenClass,!0)},i.ignore.split(",").forEach(function(f){tn(c,f.trim(),wt)}),S(l,"dragover",Ce),S(l,"mousemove",Ce),S(l,"touchmove",Ce),S(l,"mouseup",a._onDrop),S(l,"touchend",a._onDrop),S(l,"touchcancel",a._onDrop),Ht&&this.nativeDraggable&&(this.options.touchStartThreshold=4,c.draggable=!0),H("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(qe||me))){if(p.eventCanceled){this._onDrop();return}S(l,"mouseup",a._disableDelayedDrag),S(l,"touchend",a._disableDelayedDrag),S(l,"touchcancel",a._disableDelayedDrag),S(l,"mousemove",a._delayedDragTouchMoveHandler),S(l,"touchmove",a._delayedDragTouchMoveHandler),i.supportPointer&&S(l,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(s,i.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){c&&wt(c),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._disableDelayedDrag),b(e,"touchend",this._disableDelayedDrag),b(e,"touchcancel",this._disableDelayedDrag),b(e,"mousemove",this._delayedDragTouchMoveHandler),b(e,"touchmove",this._delayedDragTouchMoveHandler),b(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?S(document,"pointermove",this._onTouchMove):t?S(document,"touchmove",this._onTouchMove):S(document,"mousemove",this._onTouchMove):(S(c,"dragend",this),S(C,"dragstart",this._onDragStart));try{document.selection?lt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Me=!1,C&&c){H("dragStarted",this,{evt:t}),this.nativeDraggable&&S(document,"dragover",bo);var n=this.options;!e&&q(c,n.dragClass,!1),q(c,n.ghostClass,!0),p.active=this,e&&this._appendGhost(),Y({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(te){this._lastX=te.clientX,this._lastY=te.clientY,cn();for(var e=document.elementFromPoint(te.clientX,te.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(te.clientX,te.clientY),e!==t);)t=e;if(c.parentNode[U]._isOutsideThisEl(e),t)do{if(t[U]){var n=void 0;if(n=t[U]._onDragOver({clientX:te.clientX,clientY:te.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);dn()}},_onTouchMove:function(e){if(Ee){var t=this.options,n=t.fallbackTolerance,a=t.fallbackOffset,r=e.touches?e.touches[0]:e,i=h&&Fe(h,!0),l=h&&i&&i.a,s=h&&i&&i.d,u=nt&&B&&zt(B),f=(r.clientX-Ee.clientX+a.x)/(l||1)+(u?u[0]-yt[0]:0)/(l||1),d=(r.clientY-Ee.clientY+a.y)/(s||1)+(u?u[1]-yt[1]:0)/(s||1);if(!p.active&&!Me){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(h){i?(i.e+=f-(bt||0),i.f+=d-(_t||0)):i={a:1,b:0,c:0,d:1,e:f,f:d};var g="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");m(h,"webkitTransform",g),m(h,"mozTransform",g),m(h,"msTransform",g),m(h,"transform",g),bt=f,_t=d,te=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!h){var e=this.options.fallbackOnBody?document.body:C,t=P(c,!0,nt,!0,e),n=this.options;if(nt){for(B=e;m(B,"position")==="static"&&m(B,"transform")==="none"&&B!==document;)B=B.parentNode;B!==document.body&&B!==document.documentElement?(B===document&&(B=le()),t.top+=B.scrollTop,t.left+=B.scrollLeft):B=le(),yt=zt(B)}h=c.cloneNode(!0),q(h,n.ghostClass,!1),q(h,n.fallbackClass,!0),q(h,n.dragClass,!0),m(h,"transition",""),m(h,"transform",""),m(h,"box-sizing","border-box"),m(h,"margin",0),m(h,"top",t.top),m(h,"left",t.left),m(h,"width",t.width),m(h,"height",t.height),m(h,"opacity","0.8"),m(h,"position",nt?"absolute":"fixed"),m(h,"zIndex","100000"),m(h,"pointerEvents","none"),p.ghost=h,e.appendChild(h),m(h,"transform-origin",qt/parseInt(h.style.width)*100+"% "+Vt/parseInt(h.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,a=e.dataTransfer,r=n.options;if(H("dragStart",this,{evt:e}),p.eventCanceled){this._onDrop();return}H("setupClone",this),p.eventCanceled||(T=an(c),T.removeAttribute("id"),T.draggable=!1,T.style["will-change"]="",this._hideClone(),q(T,this.options.chosenClass,!1),p.clone=T),n.cloneId=lt(function(){H("clone",n),!p.eventCanceled&&(n.options.removeCloneOnHide||C.insertBefore(T,c),n._hideClone(),Y({sortable:n,name:"clone"}))}),!t&&q(c,r.dragClass,!0),t?(ct=!0,n._loopId=setInterval(n._emulateDragOver,50)):(b(document,"mouseup",n._onDrop),b(document,"touchend",n._onDrop),b(document,"touchcancel",n._onDrop),a&&(a.effectAllowed="move",r.setData&&r.setData.call(n,a,c)),S(document,"drop",n),m(c,"transform","translateZ(0)")),Me=!0,n._dragStartId=lt(n._dragStarted.bind(n,t,e)),S(document,"selectstart",n),Ye=!0,Ge&&m(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,a,r,i,l=this.options,s=l.group,u=p.active,f=et===s,d=l.sort,g=F||u,y,v=this,w=!1;if(Ct)return;function j(de,_){H(de,v,se({evt:e,isOwner:f,axis:y?"vertical":"horizontal",revert:i,dragRect:a,targetRect:r,canSort:d,fromSortable:g,target:n,completed:E,onMove:function(D,R){return ot(C,t,c,a,D,P(D),e,R)},changed:k},_))}function $(){j("dragOverAnimationCapture"),v.captureAnimationState(),v!==g&&g.captureAnimationState()}function E(de){return j("dragOverCompleted",{insertion:de}),de&&(f?u._hideClone():u._showClone(v),v!==g&&(q(c,F?F.options.ghostClass:u.options.ghostClass,!1),q(c,l.ghostClass,!0)),F!==v&&v!==p.active?F=v:v===p.active&&F&&(F=null),g===v&&(v._ignoreWhileAnimating=n),v.animateAll(function(){j("dragOverAnimationComplete"),v._ignoreWhileAnimating=null}),v!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(n===c&&!c.animated||n===t&&!n.animated)&&(ke=null),!l.dragoverBubble&&!e.rootEl&&n!==document&&(c.parentNode[U]._isOutsideThisEl(e.target),!de&&Ce(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),w=!0}function k(){V=Z(c),ve=Z(c,l.draggable),Y({sortable:v,name:"change",toEl:t,newIndex:V,newDraggableIndex:ve,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=oe(n,l.draggable,t,!0),j("dragOver"),p.eventCanceled)return w;if(c.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||v._ignoreWhileAnimating===n)return E(!1);if(ct=!1,u&&!l.disabled&&(f?d||(i=A!==C):F===this||(this.lastPutMode=et.checkPull(this,u,c,e))&&s.checkPut(this,u,c,e))){if(y=this._getDirection(e,n)==="vertical",a=P(c),j("dragOverValid"),p.eventCanceled)return w;if(i)return A=C,$(),this._hideClone(),j("revert"),p.eventCanceled||(Te?C.insertBefore(c,Te):C.appendChild(c)),E(!0);var N=At(t,l.draggable);if(!N||So(e,y,this)&&!N.animated){if(N===c)return E(!1);if(N&&t===e.target&&(n=N),n&&(r=P(n)),ot(C,t,c,a,n,r,e,!!n)!==!1)return $(),N&&N.nextSibling?t.insertBefore(c,N.nextSibling):t.appendChild(c),A=t,k(),E(!0)}else if(N&&wo(e,y,this)){var Q=Be(t,0,l,!0);if(Q===c)return E(!1);if(n=Q,r=P(n),ot(C,t,c,a,n,r,e,!1)!==!1)return $(),t.insertBefore(c,Q),A=t,k(),E(!0)}else if(n.parentNode===t){r=P(n);var W=0,ue,he=c.parentNode!==t,L=!go(c.animated&&c.toRect||a,n.animated&&n.toRect||r,y),ye=y?"top":"left",ae=Wt(n,"top","top")||Wt(c,"top","top"),we=ae?ae.scrollTop:void 0;ke!==n&&(ue=r[ye],ze=!1,tt=!L&&l.invertSwap||he),W=Do(e,n,r,y,L?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,tt,ke===n);var ee;if(W!==0){var ce=Z(c);do ce-=W,ee=A.children[ce];while(ee&&(m(ee,"display")==="none"||ee===h))}if(W===0||ee===n)return E(!1);ke=n,We=W;var Se=n.nextElementSibling,re=!1;re=W===1;var Ie=ot(C,t,c,a,n,r,e,re);if(Ie!==!1)return(Ie===1||Ie===-1)&&(re=Ie===1),Ct=!0,setTimeout(yo,30),$(),re&&!Se?t.appendChild(c):n.parentNode.insertBefore(c,re?Se:n),ae&&on(ae,0,we-ae.scrollTop),A=c.parentNode,ue!==void 0&&!tt&&(it=Math.abs(ue-P(n)[ye])),k(),E(!0)}if(t.contains(c))return E(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){b(document,"mousemove",this._onTouchMove),b(document,"touchmove",this._onTouchMove),b(document,"pointermove",this._onTouchMove),b(document,"dragover",Ce),b(document,"mousemove",Ce),b(document,"touchmove",Ce)},_offUpEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._onDrop),b(e,"touchend",this._onDrop),b(e,"pointerup",this._onDrop),b(e,"touchcancel",this._onDrop),b(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(V=Z(c),ve=Z(c,n.draggable),H("drop",this,{evt:e}),A=c&&c.parentNode,V=Z(c),ve=Z(c,n.draggable),p.eventCanceled){this._nulling();return}Me=!1,tt=!1,ze=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Tt(this.cloneId),Tt(this._dragStartId),this.nativeDraggable&&(b(document,"drop",this),b(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ge&&m(document.body,"user-select",""),m(c,"transform",""),e&&(Ye&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),h&&h.parentNode&&h.parentNode.removeChild(h),(C===A||F&&F.lastPutMode!=="clone")&&T&&T.parentNode&&T.parentNode.removeChild(T),c&&(this.nativeDraggable&&b(c,"dragend",this),wt(c),c.style["will-change"]="",Ye&&!Me&&q(c,F?F.options.ghostClass:this.options.ghostClass,!1),q(c,this.options.chosenClass,!1),Y({sortable:this,name:"unchoose",toEl:A,newIndex:null,newDraggableIndex:null,originalEvent:e}),C!==A?(V>=0&&(Y({rootEl:A,name:"add",toEl:A,fromEl:C,originalEvent:e}),Y({sortable:this,name:"remove",toEl:A,originalEvent:e}),Y({rootEl:A,name:"sort",toEl:A,fromEl:C,originalEvent:e}),Y({sortable:this,name:"sort",toEl:A,originalEvent:e})),F&&F.save()):V!==Re&&V>=0&&(Y({sortable:this,name:"update",toEl:A,originalEvent:e}),Y({sortable:this,name:"sort",toEl:A,originalEvent:e})),p.active&&((V==null||V===-1)&&(V=Re,ve=je),Y({sortable:this,name:"end",toEl:A,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){H("nulling",this),C=c=A=h=Te=T=rt=be=Ee=te=Ye=V=ve=Re=je=ke=We=F=et=p.dragged=p.ghost=p.clone=p.active=null,ft.forEach(function(e){e.checked=!0}),ft.length=bt=_t=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":c&&(this._onDragOver(e),_o(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,a=0,r=n.length,i=this.options;a<r;a++)t=n[a],oe(t,i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||Co(t));return e},sort:function(e,t){var n={},a=this.el;this.toArray().forEach(function(r,i){var l=a.children[i];oe(l,this.options.draggable,a,!1)&&(n[r]=l)},this),t&&this.captureAnimationState(),e.forEach(function(r){n[r]&&(a.removeChild(n[r]),a.appendChild(n[r]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return oe(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var a=Ve.modifyOption(this,e,t);typeof a<"u"?n[e]=a:n[e]=t,e==="group"&&un(n)},destroy:function(){H("destroy",this);var e=this.el;e[U]=null,b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart),b(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),dt.splice(dt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!be){if(H("hideClone",this),p.eventCanceled)return;m(T,"display","none"),this.options.removeCloneOnHide&&T.parentNode&&T.parentNode.removeChild(T),be=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(be){if(H("showClone",this),p.eventCanceled)return;c.parentNode==C&&!this.options.group.revertClone?C.insertBefore(T,c):Te?C.insertBefore(T,Te):C.appendChild(T),this.options.group.revertClone&&this.animate(c,T),m(T,"display",""),be=!1}}};function _o(o){o.dataTransfer&&(o.dataTransfer.dropEffect="move"),o.cancelable&&o.preventDefault()}function ot(o,e,t,n,a,r,i,l){var s,u=o[U],f=u.options.onMove,d;return window.CustomEvent&&!me&&!qe?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=e,s.from=o,s.dragged=t,s.draggedRect=n,s.related=a||e,s.relatedRect=r||P(e),s.willInsertAfter=l,s.originalEvent=i,o.dispatchEvent(s),f&&(d=f.call(u,s,i)),d}function wt(o){o.draggable=!1}function yo(){Ct=!1}function wo(o,e,t){var n=P(Be(t.el,0,t.options,!0)),a=rn(t.el,t.options,h),r=10;return e?o.clientX<a.left-r||o.clientY<n.top&&o.clientX<n.right:o.clientY<a.top-r||o.clientY<n.bottom&&o.clientX<n.left}function So(o,e,t){var n=P(At(t.el,t.options.draggable)),a=rn(t.el,t.options,h),r=10;return e?o.clientX>a.right+r||o.clientY>n.bottom&&o.clientX>n.left:o.clientY>a.bottom+r||o.clientX>n.right&&o.clientY>n.top}function Do(o,e,t,n,a,r,i,l){var s=n?o.clientY:o.clientX,u=n?t.height:t.width,f=n?t.top:t.left,d=n?t.bottom:t.right,g=!1;if(!i){if(l&&it<u*a){if(!ze&&(We===1?s>f+u*r/2:s<d-u*r/2)&&(ze=!0),ze)g=!0;else if(We===1?s<f+it:s>d-it)return-We}else if(s>f+u*(1-a)/2&&s<d-u*(1-a)/2)return Eo(e)}return g=g||i,g&&(s<f+u*r/2||s>d-u*r/2)?s>f+u/2?1:-1:0}function Eo(o){return Z(c)<Z(o)?1:-1}function Co(o){for(var e=o.tagName+o.className+o.src+o.href+o.textContent,t=e.length,n=0;t--;)n+=e.charCodeAt(t);return n.toString(36)}function To(o){ft.length=0;for(var e=o.getElementsByTagName("input"),t=e.length;t--;){var n=e[t];n.checked&&ft.push(n)}}function lt(o){return setTimeout(o,0)}function Tt(o){return clearTimeout(o)}mt&&S(document,"touchmove",function(o){(p.active||Me)&&o.cancelable&&o.preventDefault()});p.utils={on:S,off:b,css:m,find:tn,is:function(e,t){return!!oe(e,t,e,!1)},extend:lo,throttle:nn,closest:oe,toggleClass:q,clone:an,index:Z,nextTick:lt,cancelNextTick:Tt,detectDirection:sn,getChild:Be};p.get=function(o){return o[U]};p.mount=function(){for(var o=arguments.length,e=new Array(o),t=0;t<o;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(p.utils=se(se({},p.utils),n.utils)),Ve.mount(n)})};p.create=function(o,e){return new p(o,e)};p.version=ao;var x=[],$e,It,Ot=!1,St,Dt,pt,Je;function Io(){function o(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return o.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?S(document,"dragover",this._handleAutoScroll):this.options.supportPointer?S(document,"pointermove",this._handleFallbackAutoScroll):n.touches?S(document,"touchmove",this._handleFallbackAutoScroll):S(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):(b(document,"pointermove",this._handleFallbackAutoScroll),b(document,"touchmove",this._handleFallbackAutoScroll),b(document,"mousemove",this._handleFallbackAutoScroll)),Kt(),st(),so()},nulling:function(){pt=It=$e=Ot=Je=St=Dt=null,x.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var a=this,r=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(r,i);if(pt=t,n||this.options.forceAutoScrollFallback||qe||me||Ge){Et(t,this.options,l,n);var s=_e(l,!0);Ot&&(!Je||r!==St||i!==Dt)&&(Je&&Kt(),Je=setInterval(function(){var u=_e(document.elementFromPoint(r,i),!0);u!==s&&(s=u,st()),Et(t,a.options,u,n)},10),St=r,Dt=i)}else{if(!this.options.bubbleScroll||_e(l,!0)===le()){st();return}Et(t,this.options,_e(l,!1),!1)}}},pe(o,{pluginName:"scroll",initializeByDefault:!0})}function st(){x.forEach(function(o){clearInterval(o.pid)}),x=[]}function Kt(){clearInterval(Je)}var Et=nn(function(o,e,t,n){if(e.scroll){var a=(o.touches?o.touches[0]:o).clientX,r=(o.touches?o.touches[0]:o).clientY,i=e.scrollSensitivity,l=e.scrollSpeed,s=le(),u=!1,f;It!==t&&(It=t,st(),$e=e.scroll,f=e.scrollFn,$e===!0&&($e=_e(t,!0)));var d=0,g=$e;do{var y=g,v=P(y),w=v.top,j=v.bottom,$=v.left,E=v.right,k=v.width,N=v.height,Q=void 0,W=void 0,ue=y.scrollWidth,he=y.scrollHeight,L=m(y),ye=y.scrollLeft,ae=y.scrollTop;y===s?(Q=k<ue&&(L.overflowX==="auto"||L.overflowX==="scroll"||L.overflowX==="visible"),W=N<he&&(L.overflowY==="auto"||L.overflowY==="scroll"||L.overflowY==="visible")):(Q=k<ue&&(L.overflowX==="auto"||L.overflowX==="scroll"),W=N<he&&(L.overflowY==="auto"||L.overflowY==="scroll"));var we=Q&&(Math.abs(E-a)<=i&&ye+k<ue)-(Math.abs($-a)<=i&&!!ye),ee=W&&(Math.abs(j-r)<=i&&ae+N<he)-(Math.abs(w-r)<=i&&!!ae);if(!x[d])for(var ce=0;ce<=d;ce++)x[ce]||(x[ce]={});(x[d].vx!=we||x[d].vy!=ee||x[d].el!==y)&&(x[d].el=y,x[d].vx=we,x[d].vy=ee,clearInterval(x[d].pid),(we!=0||ee!=0)&&(u=!0,x[d].pid=setInterval((function(){n&&this.layer===0&&p.active._onTouchMove(pt);var Se=x[this.layer].vy?x[this.layer].vy*l:0,re=x[this.layer].vx?x[this.layer].vx*l:0;typeof f=="function"&&f.call(p.dragged.parentNode[U],re,Se,o,pt,x[this.layer].el)!=="continue"||on(x[this.layer].el,re,Se)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&g!==s&&(g=_e(g,!1)));Ot=u}},30),fn=function(e){var t=e.originalEvent,n=e.putSortable,a=e.dragEl,r=e.activeSortable,i=e.dispatchSortableEvent,l=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var u=n||r;l();var f=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(f.clientX,f.clientY);s(),u&&!u.el.contains(d)&&(i("spill"),this.onSpill({dragEl:a,putSortable:n}))}};function Nt(){}Nt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var a=Be(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(t,a):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:fn};pe(Nt,{pluginName:"revertOnSpill"});function xt(){}xt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,a=n||this.sortable;a.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),a.animateAll()},drop:fn};pe(xt,{pluginName:"removeOnSpill"});p.mount(new Io);p.mount(xt,Nt);const Oo=o=>(yn("data-v-f9fc74cf"),o=o(),wn(),o),Ao={class:"ctp-top-main"},No=Oo(()=>ne("div",{class:"ctp-top-innerLeft"},[ne("div",{class:"ctp-top-innerLeft-back"})],-1)),xo={class:"ctp-top-innerRight"},Po={class:"ctp-down-main"},ko={class:"ctp-down-innerLeft"},Mo={class:"ctp-down-innerMid"},Ro={class:"ctp-down-drawPanel",id:"drawPanel"},Fo={id:"sortId2",ref:"sortId2",class:"ctp-down-drawRow",gutter:5,type:"flex"},Bo=["span"],Lo={class:"ctp-down-innerRight"},Xo={key:1,class:"tabs-emty"},Yo={style:{padding:"24px"}},$o=pn({__name:"commonTemplate",props:{templateId:{type:String||Number},templateType:{type:String||Number}},setup(o){const e=o,t=mn(),n=hn("$defultRequest"),a=Cn(),r=Pt(a);let i=X([]);i=r.commonTemplateComponentNormalData,X("");const l={...Qn},s={...eo},u={...Un},f=X({});let d=X("");const g=X({}),y=X(),v=X({templateId:JSON.parse(sessionStorage.getItem("sasslowCodeData"))==null?"":JSON.parse(sessionStorage.getItem("sasslowCodeData")).templateId,templateType:JSON.parse(sessionStorage.getItem("sasslowCodeData"))==null?"":JSON.parse(sessionStorage.getItem("sasslowCodeData")).templateType,queryType:"TABLE"}),w=X(null),j=X(null),$=X(""),E=X([]),k=X([]),N=X({}),Q=X(2),W=X(),ue=_=>"width:"+_/24*100+"%";function he(){Q.value=2,new Jt().initNormalComponents(d)}kt(Pt(a).commonTemplateSelectComponent,async _=>{f.value=_},{deep:!0,immediate:!0}),kt(()=>a.commonTemplateSelectComponentArr,async _=>{W.value=_},{deep:!0,immediate:!0});const L=async()=>{let _=a.commonTemplateSelectComponentArr,M=[],D=[],R=[],I=[],Le=[],Ue={flag:!0};if(_.forEach(O=>{xe(O.moduleCode)||(O.errorTip=!0,M.push(!1))}),_.forEach((O,De)=>{_.forEach((ie,Oe)=>{O.moduleCode==ie.moduleCode&&De!==Oe&&(O.errorTip=!0,D.push(!1))})}),_.forEach(O=>{xe(O.moduleTitle)||(O.errorTip=!0,R.push(!1))}),_.forEach(O=>{(!xe(O.moduleTitle)||O.moduleTitle.length>20)&&(O.errorTip=!0,I.push(!1))}),_.forEach(O=>{}),de("模板设置")&&await N.value.submit().then(O=>{Ue.flag=O}),Ue.flag==!1&&de("模板设置"))return Ne({type:"warning",message:"请填写模版名称",center:!0}),!1;if(R.length>0)return Ne({type:"warning",message:"请输入控件名称",center:!0}),!1;if(M.length>0)return Ne({type:"warning",message:"请输入控件代号",center:!0}),!1;if(D.length>0)return Ne({type:"warning",message:"控件代号重复",center:!0}),!1;if(I.length>0)return Ne({type:"warning",message:"显示名称存在错误",center:!0}),!1;if(Le.length>0)return Ne({type:"warning",message:"控件设置值存在错误",center:!0}),!1;{_.forEach(De=>{De.errorTip=!1});let O=[];await a.sortCommonTemplateSelectArrData().then(De=>{O=De,O.forEach(ie=>{ie.data=a.commonTemplateComponentsData[ie.moduleType].data})}),de("模板设置")?n.request({url:Ke.templateApi.putTemplateConfig,method:"put",data:{...N.value.formData}}).then(De=>{n.request({url:Ke.templateApi.saveNormalComponentsList,method:"put",data:{moduleList:O,templateType:JSON.parse(sessionStorage.getItem("sasslowCodeData")).templateType,templateId:JSON.parse(sessionStorage.getItem("sasslowCodeData")).templateId}}).then(ie=>{let Oe={path:"",name:"",meta:{}};Oe.path=t.currentRoute.value.path,Oe.name=N.value.hasOwnProperty("formData")?N.value.formData.name:"",Oe.meta=t.currentRoute.value.meta,$t(Oe,t)})}):n.request({url:Ke.templateApi.saveNormalComponentsList,method:"put",data:{moduleList:O,templateType:JSON.parse(sessionStorage.getItem("sasslowCodeData")).templateType,templateId:JSON.parse(sessionStorage.getItem("sasslowCodeData")).templateId}}).then(De=>{let ie={path:"",name:"",meta:{}};ie.path=t.currentRoute.value.path,ie.name=N.value.hasOwnProperty("formData")?N.value.formData.name:"",ie.meta=t.currentRoute.value.meta,$t(ie,t)})}},ye=()=>{a.sortCommonTemplateSelectArrData(),y.value.dialogController()};function ae(){typeof e.templateId<"u"||t.currentRoute.value.query.hasOwnProperty("templateId")||xe(sessionStorage.getItem("sasslowCodeData"))?(n.request({url:Ke.templateApi.getNormalComponentsListById,method:"get",params:{templateId:e.templateId||t.currentRoute.value.query.templateId||JSON.parse(sessionStorage.getItem("sasslowCodeData")).templateId,templateType:e.templateType||t.currentRoute.value.query.templateType||JSON.parse(sessionStorage.getItem("sasslowCodeData")).templateType,queryType:"TABLE"}}).then(_=>{_.data.forEach((M,D)=>{M.sortIndex=D}),a.initCommonTemplateSelectArrData(_.data)}),a.initTemplateConfig({templateId:e.templateId||t.currentRoute.value.query.templateId||JSON.parse(sessionStorage.getItem("sasslowCodeData")).templateId,templateType:e.templateType||t.currentRoute.value.query.templateType||JSON.parse(sessionStorage.getItem("sasslowCodeData")).templateType})):a.initCommonTemplateSelectArrData([])}const we=_=>{if(_==1){let M=document.getElementsByClassName("transitionGroup-get-name");for(let D=0;D<M.length;D++)new p(M[D],{group:{name:"shared",pull:"clone",put:!1},animation:700,sort:!1,removeCloneOnHide:!1,onChoose(R){d=R.item.children[0].attributes.name.nodeValue}})}},ee=()=>{E.value=[],v.value.templateType=="formula_template"&&E.value.push(JSON.parse(JSON.stringify(a.commonTemplateComponentcomplexAllData.formula))),v.value.templateType=="experimental_template"&&E.value.push(JSON.parse(JSON.stringify(a.commonTemplateComponentcomplexAllData.experiment))),k.value=JSON.parse(JSON.stringify(E.value))},ce=()=>{let _=[],M={};if(k.value=[],xe($.value))for(let D=0;D<E.value.length;D++){_=[],M={};for(let R=0;R<E.value[D].data.length;R++)E.value[D].data[R].name.includes($.value)&&_.push(E.value[D].data[R]);M=JSON.parse(JSON.stringify(E.value[D])),M.data=JSON.parse(JSON.stringify(_)),k.value.push(M)}else k.value=[],k.value=JSON.parse(JSON.stringify(E.value))},Se=()=>{let _=document.getElementById("sortId");new p(_,{group:{name:"shared",pull:"clone",put:!1},animation:700,sort:!1,removeCloneOnHide:!1,onChoose(D){d=D.item.children[0].attributes.name.nodeValue},onUnchoose(D){}});let M=document.getElementById("sortId2");new p(M,{group:{name:"shared",pull:!0,put:!0},animation:100,ghostClass:"ghost-class",dataIdAttr:"data-no",onAdd(D){var I;Q.value=2,(I=document.getElementById("sortId2"))==null||I.removeChild(D.item),new Jt().spliceNormalComponents(d,D.newIndex)},onUpdate(D){a.sortCommonTemplateSelectArrData().then(R=>{a.setSelectArrData(R)})}})},re=()=>{sessionStorage.getItem("sasslowCodeData")!==null?g.value=JSON.parse(sessionStorage.getItem("sasslowCodeData")):g.value=a.templateConfig},Ie=_=>{if(g.value.leftTabs!==void 0)return Array.from(g.value.leftTabs).includes(_)},de=_=>{if(g.value.rightTabs!==void 0)return Array.from(g.value.rightTabs).includes(_)};return gn(()=>{a.initCommonTemplateSelectArrData([]),Se(),ae(),re(),ee()}),(_,M)=>{const D=Mt("el-input"),R=Mt("el-tab-pane");return J(),ge(Xe,null,[K(G(Dn),null,{topPanel:z(()=>[ne("div",Ao,[No,ne("div",xo,[Rt(K(G(Xt),{type:"normal",onCommonClick:ye},{default:z(()=>[Bt("预览")]),_:1},512),[[Ft,g.value.seeShow]]),Rt(K(G(Xt),{type:"confirm",onCommonClick:L},{default:z(()=>[Bt("保存")]),_:1},512),[[Ft,g.value.saveShow]])])])]),downPanel:z(()=>[ne("div",Po,[ne("div",ko,[K(G(Yt),{tabsValue:2,onTabsChange:we},{default:z(()=>[Ie("业务控件")?(J(),Ae(R,{key:0,name:1,label:"高级控件",class:"tabs-component",style:{overflow:"auto"}},{default:z(()=>[K(D,{class:"tabs-component-complexSearch",modelValue:$.value,"onUpdate:modelValue":M[0]||(M[0]=I=>$.value=I),"suffix-icon":G(vn),placeholder:"请输入",onChange:ce},null,8,["modelValue","suffix-icon"]),(J(!0),ge(Xe,null,Ze(k.value,(I,Le)=>(J(),ge("div",{class:"tabs-component-spliceGroup",key:Le},[K(Lt,{tag:"div",name:"sortIdComplex",id:"sortIdComplex",class:"tabs-componen-transition transitionGroup-get-name",onClick:he},{default:z(()=>[(J(!0),ge(Xe,null,Ze(I.data,(Ue,O)=>(J(),Ae(Qe(l[Ue.value]),{key:O,class:"tabs-component-button"}))),128))]),_:2},1024)]))),128))]),_:1})):ht("",!0),K(R,{name:2,label:"基础控件",class:"tabs-component"},{default:z(()=>[K(Lt,{tag:"div",id:"sortId",class:"tabs-componen-transition",onClick:he},{default:z(()=>[(J(!0),ge(Xe,null,Ze(G(i),(I,Le)=>(J(),Ae(Qe(l[I]),{key:I,class:"tabs-component-button"}))),128))]),_:1})]),_:1})]),_:1})]),ne("div",Mo,[ne("div",Ro,[ne("div",Fo,[(J(!0),ge(Xe,null,Ze(W.value,(I,Le)=>(J(),ge("div",{key:I.id,span:I.col,style:bn(ue(I.col))},[(J(),Ae(G(Kn),{"components-data":I,key:I.id},{default:z(()=>[(J(),Ae(Qe(u[I.moduleType]),{componentsData:I,key:I.id,id:I.id,name:"component",ref_for:!0,ref_key:"componentShowChild",ref:w},null,8,["componentsData","id"]))]),_:2},1032,["components-data"]))],12,Bo))),128))],512)])]),ne("div",Lo,[K(G(Yt),{tabsValue:Q.value},{default:z(()=>[K(R,{name:2,label:"控件设置",class:"tabs-component"},{default:z(()=>[G(a).commonTemplateSelectComponentArr.length>0?(J(),Ae(Qe(s[f.value.moduleType]),{componentsData:f.value,ref_key:"componentSetChild",ref:j,key:f.value.id},null,8,["componentsData"])):ht("",!0),G(a).commonTemplateSelectComponentArr.length<=0||!G(xe)(G(a).commonTemplateSelectComponent)?(J(),ge("div",Xo,_n("请选择控件，拖入画布区域"))):ht("",!0)]),_:1})]),_:1},8,["tabsValue"])])])]),_:1}),K(G(En),{ref_key:"commonDialog",ref:y,title:"表单配置",footer:!1},{default:z(()=>[ne("div",Yo,[K(G(Zn),{isInner:"","detail-data":v.value},null,8,["detail-data"])])]),_:1},512)],64)}}}),Ar=Sn($o,[["__scopeId","data-v-f9fc74cf"]]);export{Ar as default};
