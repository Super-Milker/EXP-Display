/* empty css                                                                            *//* empty css                                                                                  *//* empty css                                                                     *//* empty css                                                                         */import D from"./commonButton-CNkRppG-.js";/* empty css                                                                   *//* empty css                                                                     *//* empty css                                                               */import{l as I}from"./lowCodeStore-CGZPxDGf.js";import"./mockApi-Bzt-_zo-.js";/* empty css                                                                                       */import{d as N,j as B,a as _,H as k,b as q,o as i,i as f,m as l,J as g,h as s,g as n,c as T,K as A,I as E,e as O,u as j,E as J,_ as L}from"./index-CH0VdndA.js";/* empty css                                                                    */import"./commonStore-DKeEGGWD.js";import"./common-kvfjOh1A.js";/* empty css                                                                     */const M={style:{display:"flex","justify-content":"end",width:"100%"}},U=N({__name:"templateSet",setup(F,{expose:C}){const p=B("$defultRequest"),y=I(),d=_(null),e=k({name:"",dictCode:"",type:"",id:""}),c=_([]),v={name:[{required:!0,message:"请填写模版名称",trigger:"blur"}]},b=async()=>{await p.request({url:g.dictionaryManagementApi.getDicItemConfigList,method:"get",params:{dictTypeCode:"",status:"ENABLE"}}).then(t=>{c.value=t.data})},u=async()=>{await p.request({url:g.templateApi.getTemplateConfigInit+"/"+JSON.parse(sessionStorage.getItem("sasslowCodeData")).templateId+"/"+JSON.parse(sessionStorage.getItem("sasslowCodeData")).templateType,method:"get"}).then(t=>{e.name=t.data.name,e.dictCode=t.data.dictCode})},S=()=>{u()},V=async()=>{var o;let t=!1;return await((o=d.value)==null?void 0:o.validate(m=>{m?(t=!0,y.setCommonTemplateName(e.name)):t=!1})),t};return q(()=>{b(),u()}),C({formData:e,submit:V}),(t,o)=>{const m=s("el-input"),r=s("el-form-item"),w=s("el-option"),x=s("el-select"),h=s("el-form");return i(),f(h,{ref_key:"form",ref:d,model:e,rules:v,"label-position":"top",class:"templateSet-form"},{default:l(()=>[n(r,{label:"名称",prop:"name"},{default:l(()=>[n(m,{modelValue:e.name,"onUpdate:modelValue":o[0]||(o[0]=a=>e.name=a),maxlength:100,placeholder:"请输入配方名称"},null,8,["modelValue"])]),_:1}),n(r,{label:"模板类型"},{default:l(()=>[n(x,{modelValue:e.dictCode,"onUpdate:modelValue":o[1]||(o[1]=a=>e.dictCode=a)},{default:l(()=>[(i(!0),T(E,null,A(c.value,a=>(i(),f(w,{label:a.name,value:a.code},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),n(r,null,{default:l(()=>[O("div",M,[n(j(D),{type:"normal",onCommonClick:S},{default:l(()=>[J("重置")]),_:1})])]),_:1})]),_:1},8,["model"])}}}),le=L(U,[["__scopeId","data-v-d00d433a"]]);export{le as default};
